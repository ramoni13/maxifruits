<!DOCTYPE html>
<html>
<body onload="javascript:myFunction()">
<head>
	<style>
        	body {
			font-size: 40px;
		}
		button {
		  background-color: #008CBA;
		  border: none;
		  color: white;
		  padding: 15px 32px;
		  text-align: center;
		  text-decoration: none;
		  display: inline-block;
		  font-size: 72px;
		}
	</style>
</head>
<h2>DJ's Party Mix Festival</h2>

<script>

function myFunction() {
	var myParamTOKEN = location.search.split('code=')[1]
	let url = "https://cors-anywhere.herokuapp.com/https://connect.deezer.com/oauth/access_token.php?app_id=455462&secret=b8c0dea5060c49b52d5df1e0762e8c8d&code=" + myParamTOKEN ;
	httpGet(url);
}

function httpGet(theUrl)
{
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
    xmlHttp.setRequestHeader('X-PINGOTHER', 'pingpong');
	xmlHttp.setRequestHeader('Access-Control-Allow-Origin', '*');
    xmlHttp.setRequestHeader('Content-Type', 'application/xml');
	xmlHttp.send( null );
    var data = [];
	data = xmlHttp.responseText.split('access_token=')
	location.replace("https://ramoni13.github.io/DJ_Festival/application.html&code="+ data[1]);
}

</script>

</body>
</html> 
